(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+AMR":function(t,n,e){"use strict";e.r(n);var r=e("o0o1"),o=e.n(r),a=e("DxOX"),s=e("kv5u");function i(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(t,n,e,r,o,a,s){try{var i=t[a](s),c=i.value}catch(t){return void e(t)}i.done?n(c):Promise.resolve(c).then(r,o)}function u(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var a=t.apply(n,e);function s(t){c(a,r,o,s,i,"next",t)}function i(t){c(a,r,o,s,i,"throw",t)}s(void 0)}))}}var p={props:{id:{type:String,required:!0}},data:function(){return{post:null,comment:{body:"",userName:"",userLink:""},commentErrors:null}},methods:{fetchPost:function(){var t=this;return u(o.a.mark((function n(){var e;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,axios.get("/api/posts/".concat(t.id));case 2:if((e=n.sent).status===a.d){n.next=6;break}return t.$store.commit("error/setCode",e.status),n.abrupt("return",!1);case 6:t.post=e.data;case 7:case"end":return n.stop()}}),n)})))()},addComment:function(){var t=this;return u(o.a.mark((function n(){var e;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,axios.post("/api/posts/".concat(t.id,"/comments"),{body:t.comment.body,user_name:t.comment.userName,user_link:t.comment.userLink});case 2:if((e=n.sent).status!==a.f){n.next=6;break}return t.commentErrors=e.data.errors,n.abrupt("return",!1);case 6:if(t.comment.body="",t.comment.userName="",t.comment.userLink="",t.commentErrors=null,e.status===a.a){n.next=13;break}return t.$store.commit("error/setCode",e.status),n.abrupt("return",!1);case 13:t.post.comments=[e.data].concat(i(t.post.comments));case 14:case"end":return n.stop()}}),n)})))()}},watch:{$route:{handler:function(){var t=this;return u(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.fetchPost();case 2:case"end":return n.stop()}}),n)})))()},immediate:!0}},computed:{isLogin:function(){return this.$store.getters["auth/check"]}},metaInfo:function(){return this.post?Object(s.a)(this.post.title,this.post.abstract,location.protocol+"//"+location.host+this.post.thumbnail,location.protocol+"//"+location.host+"/storage/upload/images/favicon.png"):null}},m=(e("huoV"),e("KHd+")),l=Object(m.a)(p,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.post?e("div",{staticClass:"post-detail"},[t.isLogin?e("div",[e("RouterLink",{staticClass:"button",attrs:{to:{name:"update",params:{id:t.post.id}}}},[e("i",{staticClass:"icon ion-md-add"}),t._v("\n      記事を編集する\n    ")])],1):t._e(),t._v(" "),e("h1",{staticClass:"post-detail__title mt-3 mb-3"},[t._v("\n    "+t._s(t.post.title)+"\n  ")]),t._v(" "),e("div",{staticClass:"post-detail__category my-2"},[e("RouterLink",{attrs:{to:"/"+t.post.category.name+"s"}},[e("b-button",{staticClass:"mx-1",attrs:{size:"sm",variant:"secondary"}},[e("b-icon-folder"),t._v(t._s(t.post.category.name))],1)],1)],1),t._v(" "),e("div",{staticClass:"post-detail__tags my-1"},t._l(t.post.tags,(function(n){return e("span",{key:n.name,staticClass:"post-detail__tag mx-1"},[e("RouterLink",{attrs:{to:"/tag/"+n.name}},[e("b-button",{attrs:{size:"sm",variant:"tag"}},[e("b-icon-tag"),t._v(t._s(n.name))],1)],1)],1)})),0),t._v(" "),e("div",{staticClass:"post-detail__body mt-5",domProps:{innerHTML:t._s(t.post.body)}})]):t._e()}),[],!1,null,"ac4e504c",null);n.default=l.exports},B0CC:function(t,n,e){var r=e("bmmW");"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(r,o);r.locals&&(t.exports=r.locals)},bmmW:function(t,n,e){(t.exports=e("I1BE")(!1)).push([t.i,"\n.post-detail__tags[data-v-ac4e504c] {\r\n  line-height: 2.5rem;\n}\n.post-detail h1[data-v-ac4e504c] {\r\n  font-weight: bold;\n}\n.post-detail__body[data-v-ac4e504c] h2 {\r\n  font-weight: bold;\r\n  border-bottom: solid 1px lightgrey;\r\n  margin-top: 3rem;\r\n  margin-bottom: 1.5rem;\r\n  padding: 0.5rem 0;\r\n  font-size: 1.7rem;\n}\n.post-detail__body[data-v-ac4e504c] h3 {\r\n  font-weight: bold;\r\n  margin-top: 2rem;\r\n  margin-bottom: 1.2rem;\r\n  font-size: 1.4rem;\n}\n.post-detail__body[data-v-ac4e504c] h4 {\r\n  font-weight: bold;\r\n  margin-top: 2rem;\r\n  font-size: 1.1rem;\n}\r\n",""])},huoV:function(t,n,e){"use strict";var r=e("B0CC");e.n(r).a},kv5u:function(t,n,e){"use strict";function r(t,n,e,r){return{title:t,meta:[{name:"description",content:n},{property:"twitter:card",content:"summary"},{property:"twitter:title",content:t+" | メカトロ同好会エルチカ"},{property:"twitter:description",content:n},{property:"twitter:image",content:e},{property:"og:title",content:t+" | メカトロ同好会エルチカ"},{property:"og:description",content:n},{property:"og:type",content:"website"},{property:"og:url",content:location.href},{property:"og:image",content:e}],script:[{type:"application/ld+json",innerHTML:JSON.stringify([{"@context":"http://schema.org","@type":"Organization",url:location.href,logo:r},{"@context":"http://schema.org","@type":"WebSite",name:t+" | メカトロ同好会エルチカ",alternateName:n,url:location.href}],null,2)}]}}e.d(n,"a",(function(){return r}))}}]);